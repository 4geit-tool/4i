<?xml version="1.0"?>

<forgeit>
  <resource name="core" registry_uri="http://github.com/4geit-core"/>
  <resource name="module" registry_uri="http://github.com/4geit-module"/>
  <resource name="extension" registry_uri="http://github.com/4geit-extension"/>
  <resource name="project" registry_uri="http://github.com/4geit-project"/>

  <core name="reference" required_version="0.1.0"/>
  <core name="inclusion" required_version="0.1.0"/>
  <core name="string" required_version="0.1.0"/>
  <core name="logger" required_version="0.1.0"/>
  <core name="file" required_version="0.1.0"/>
  <core name="conditional" required_version="0.1.0"/>
  <core name="cache" required_version="0.1.0"/>
  <core name="list" required_version="0.1.0"/>
  <!-- <core name="module" required_version="0.1.0"/> -->
  <core name="protocol" required_version="0.1.0"/>
  <core name="extension" required_version="0.1.0"/>
  <core name="abstractor" required_version="0.1.0"/>
  <!-- <module name="toto" required_version="0.1.0"/> -->

  <todo>pull modules and extensions</todo>
  <todo>push modules and extensions</todo>
  <todo>connect to a registry</todo>
  <todo>create project</todo>
  <todo>push/pull project</todo>
  <todo>deploy project</todo>
  <todo>create core library</todo>
  <todo>push/pull core library</todo>
  
  <protocol>
    <node name="project">
      <attribute name="name" required="True"/>
      <attribute name="vendor"/>
      <attribute name="vendor_email"/>
      <attribute name="version"/>
      <attribute name="license"/>
      <attribute name="description"/>
      <node name="todo" number="*"/>
      <node name="author" number="*">
	<attribute name="name" required="True"/>
	<attribute name="email"/>
      </node>
      <node name="keyword" number="*">
	<attribute name="value" required="True"/>
      </node>
      <group id="requires">
	<node name="require" number="*">
	  <attribute name="env"/>
	  <attribute name="dev"/>
	  <attribute name="name" required="True"/>
	  <attribute name="version"/>
	  <attribute name="variable"/>
	</node> <!-- !require -->
      </group>
      <node name="core" number="*">
	<attribute name="name" required="True"/>
	<attribute name="required_version" required="True"/>
	<attribute name="version" required="True"/>
      </node> <!-- !core -->
      <node name="module" number="*">
	<attribute name="name" required="True"/>
	<attribute name="required_version" required="True"/>
	<attribute name="version" required="True"/>
	<group ref="requires"/>
	<node name="protocol"/>
      </node> <!-- !module -->
      <node name="extension" number="*">
	<attribute name="name" required="True"/>
	<attribute name="required_version" required="True"/>
	<attribute name="version" required="True"/>
	<group ref="requires"/>
	<node name="compatible">
	  <node name="module" number="*">
	    <attribute name="name" required="True"/>
	    <attribute name="required_version" required="True"/>
	  </node> <!-- !module -->
	</node> <!-- !compatible -->
	<node name="urls"/>
	<node name="views"/>
	<node name="build"/>
	<node name="protocol"/>
      </node> <!-- !extension -->
      <group id="files">
	<node name="file" number="*">
	  <attribute name="name" required="True"/>
	  <node name="image" number="*">
	    <attribute name="name" required="True"/>
	    <attribute name="resize"/>
	  </node> <!-- !image -->
	</node> <!-- !file -->
      </group> <!-- !files -->
      <group id="dirs">
	<node name="dir" number="*">
	  <group ref="files"/>
	  <group ref="dirs"/>
	</node> <!-- !dir -->
      </group> <!-- !dirs -->
    </node>
  </protocol>
</forgeit>
